# 深度学习系列1：设置 AWS & 图像识别

在本文中，我将创建 Amazon Web Services（AWS）实例，并使用预先训练的模型对猫和狗的图像进行分类。

在这个完整的系列里，我会记录下我在 Fast AI 深度学习课程的第一部分内容的进度。这门课程最初是由旧金山大学数据研究所提供的，并且现在能够在 MOOC 上观看。最近，这门课的作者提供了第二部分的内容，并且在接下来的几个月都可以在网上观看。我上这门课的主要是因为我对深度学习有着强烈的兴趣。我在网上发现了许多关于机器学习的课程，但有关深度学习的实战课程还是比较少见的。深度学习似乎因为进入门槛略高一点，而被单独列出。开始深度学习之前我们首先需要一个 GPU，在这门课程里我们会使用 AWS 的 p2 实例。现在让我们一起来准备它。

这门课程第一周，我们会把重点放在准备工作上。正确地准备深度学习需要一点时间，但这对一切能正确运行很重要。这包括了设置 AWS，创建和配置 GPU 实例，设置 ssh 连接服务器以及管理你的目录。

我在实习期用的笔记本电脑上遇到了一些权限问题。我有个建议能够避免这个问题，从而帮你节省大量时间：在尝试操作之前，确保你在你的笔记本电脑上拥有完整的管理员权限。一些热情的工程师提出帮助我设置 GPU 实例，但是他们不能马上帮我搞定，所以我决定自己来。

用来设置 AWS 的脚本是用 bash 写的，如果你用的是 Windows 操作系统，那么你需要一个能够处理它的程序，我用的是 Cygwin。我想分享一些在设置过程中我遇到的问题（以及对应的解决方案）。如果你没有在上 Fast AI 课程，你可以跳过这部分继续阅读。我在设置过程中所遇到的问题有：

bash 脚本报错
我看过一些可能的原因，但是没有一个是对我有用的解决方案。Github 上这个课程的设置脚本有两个：setup_p2.sh 和 setup_instance.sh。如果上面那两个脚本不能用，你可以用这个脚本试试。但如果这个脚本还是不行，请务必再尝试使用原始版本的脚本。

在 aws-alias.sh 这个脚本上也遇到了同样的问题，在第七行的末尾加上 ' 能够解决这个问题。下面是修改前和修改后的第七行：

    alias aws-state='aws ec2 describe-instances --instance-ids $instanceId --query "Reservations[0].Instances[0].State.Name"
    alias aws-state='aws ec2 describe-instances --instance-ids $instanceId --query "Reservations[0].Instances[0].State.Name"'

## 开始深度学习

解决了一些问题之后我总算让我的 GPU 实例运行起来了。是时候开始深度学习了！一个简短的免责声明：在这一系列博客中，我不会重复已经在课程笔记中列出的内容，因为没必要。我会强调一些我觉得很有趣的事情，以及我在课程中遇到的问题和一些想法。

让我们从第一个可能已经在你脑海中的问题开始：什么是深度学习？它现在为什么被炒得这么火？

深度学习只是一个有着多个隐含层的人造神经网络，隐含层让它变得“深度”。一般的神经网络只有一层或者两层的隐含层，而一个深度神经网络有更多的隐含层。它们也具有与一般神经网络中的“简单”层不同类型的层

![](https://i.imgur.com/TSwI1dO.png)


(浅) 神经网络

目前，深度学习在一些著名的数据集上不断地有着出色的表现，所以深度学习也经历了不少的炒作。深度学习的流行有三个原因：

- 无限灵活的函数
- 通用参数拟合
- 迅速以及可拓展

神经网络是通过模仿人脑而设计的。根据通用近似定理，它理论上能拟合任何函数。神经网络通过反向传播算法来训练，这使得我们能够调整模型的参数来适应不同的函数。最后一个原因，也是深度学习近期取得众多成就的主要原因。因为游戏行业的进步和 GPU 计算能力的强劲发展，现在我们以非常快速和可扩展的方式来训练深层的神经网络。


在第一节课里，我们的目标是使用一个叫做 Vgg16 的预先训练好的模型，来对猫和狗的图片进行分类。Vgg16 是 2014 年赢得 Imagenet 比赛模型的一个轻量级版本。这是一个年度的比赛并且可能是计算机视觉方面最大的一个比赛。我们可以利用这预先训练好的模型，并且把它应用到我们的猫和狗的图片数据集上。我们的数据集已经被课程的作者编辑过了，以确保它的格式正确。原始的数据集可以在 Kaggle 上找到。这场比赛最初是在 2013 年进行的，那时的准确率是 80％。而我们的简单模型已经能够达到 97％的准确度。大脑现在还清醒吧？下面是一些照片和他们被预测的标记

